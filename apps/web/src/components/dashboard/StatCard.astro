---
interface Props {
  title: string;
  value: string | number;
  change?: string;
  changeType?: "positive" | "negative" | "neutral";
  icon?: string;
}

const { title, value, change, changeType = "neutral", icon } = Astro.props;
---

<div class="rounded-[20px] bg-surface p-1.5 transition-all hover:shadow-sm">
  <div class="rounded-[12px] bg-background p-6 shadow-xs">
    <div class="space-y-3">
      <div class="flex items-center gap-2">
        {icon && (
          <div class:list={[
            "w-9 h-9 rounded-lg flex items-center justify-center",
            icon === "api" && "bg-primary/10 text-primary",
            icon === "storage" && "bg-chart-2/10 text-chart-2",
            icon === "link" && "bg-accent/10 text-accent",
            icon === "bandwidth" && "bg-chart-3/10 text-chart-3",
          ]}>
            {icon === "api" && (
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5"/>
              </svg>
            )}
            {icon === "storage" && (
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"/>
              </svg>
            )}
            {icon === "link" && (
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"/>
              </svg>
            )}
            {icon === "bandwidth" && (
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3 7.5L7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"/>
              </svg>
            )}
          </div>
        )}
        <p class="text-sm text-muted-foreground font-medium">{title}</p>
      </div>
      <p class="text-3xl font-bold tracking-tight">{value}</p>
      {change && (
        <p class:list={[
          "text-xs flex items-center gap-1.5 font-medium",
          changeType === "positive" && "text-green-600 dark:text-green-500",
          changeType === "negative" && "text-red-500 dark:text-red-400",
          changeType === "neutral" && "text-muted-foreground",
        ]}>
          {changeType === "positive" && (
            <span class="flex items-center justify-center w-4 h-4 rounded-full bg-green-100 dark:bg-green-900/30">
              <svg class="w-2.5 h-2.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="3">
                <path stroke-linecap="round" stroke-linejoin="round" d="M5 10l7-7m0 0l7 7m-7-7v18"/>
              </svg>
            </span>
          )}
          {changeType === "negative" && (
            <span class="flex items-center justify-center w-4 h-4 rounded-full bg-red-100 dark:bg-red-900/30">
              <svg class="w-2.5 h-2.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="3">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19 14l-7 7m0 0l-7-7m7 7V3"/>
              </svg>
            </span>
          )}
          {change}
        </p>
      )}
    </div>
  </div>
</div>

